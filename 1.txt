import tkinter as tk
import random
import smtplib as st
import sys

st.bCRLF = "554"
win = tk.Tk()
win.geometry("1280x720")
win.title("MEGA TKINTER lAYOUT by @Palkatras ")

canvas = tk.Canvas(win, width=1280, height=720, bg = "black", state="normal",highlightbackground= "green")
canvas.pack()
canvas.create_text(630, 600, text = "control: WASD, 1, 2 \nYT: https://www.youtube.com/@Palkatras", font = "Arial 20", fill = "lime")

wait = 29
framecollor = "black"
segments = 11000
width = 1
clrs = ["red", "lime", "blue", "green", "white", "black", "yellow", "magenta", "violet",  "crimson","gold", "orange", "purple", 
        "lightblue",  "aqua" ,"brown", "darkblue", "magenta"]
framelenght = 5
drawcolor = "lime"
speed = -40
area = 30000

textx = 650
texty = 70

cx = 0
cy = 0
lenght = 25


rec = canvas.create_oval(0, 0, 0, 0, fill = "black")
x = 650
y =  360
v = 25

waitt = wait * 1000

def create_teren():
    
    global clrs
    global framelenght

    for ab in range(segments):

        a2 = random.randint(-area, area)
        b2 = random.randint(-area, area)
        vv22 = random.randint(5, 20)
        color2 = ""

        color2 = random.choice(clrs)
        
        canvas.create_rectangle(a2 - vv22 + framelenght, b2- vv22 + framelenght, a2+ vv22 + framelenght, b2 + vv22 + framelenght,
                                  fill = framecollor, outline= "white")

        rec = canvas.create_rectangle(a2 - vv22, b2- vv22, a2+ vv22, b2 + vv22,  fill = color2, outline= "white")
        
    win.after(waitt , create_teren)
create_teren()



pencil = canvas.create_oval(x-v, y-v, x+v, y+v,  fill = "black", outline= "white")

speed = -40
speedall = speed * - 1

coords = canvas.create_text(textx, texty, text = f"X: {cx} | Y: {cy}", font = "Arial 50", fill = "white")


def move_l(event):
    global cx
    global textx
    global coords
    cx += speed * -1
    
    canvas.move(coords, -speed, 0)
    canvas.delete(coords)
    coords = canvas.create_text(textx, texty, text = f"X: {cx} | Y: {cy}", font = "Arial 50", fill = "white")

    
    canvas.move(pencil,-speed, 0)
    canvas.move("all", -speedall, 0)

def move_r(event):
    global cx
    global textx
    global coords
    cx -= speed * -1

    canvas.move(coords,speed, 0 )
    canvas.delete(coords)
    coords = canvas.create_text(textx, texty, text = f"X: {cx} | Y: {cy}", font = "Arial 50", fill = "white")

    
    canvas.move(pencil, speed, 0)
    canvas.move("all", speedall, 0)
def move_u(event):
    global cy 
    global texty
    global coords
    cy -= speed * -1

    canvas.move(coords,0, -speed)
    canvas.delete(coords)
    coords = canvas.create_text(textx, texty, text = f"X: {cx} | Y: {cy}", font = "Arial 50", fill = "white")

    canvas.move(pencil, 0, -speed)
    canvas.move("all", 0, -speedall)
def move_d(event):

    global cy 
    global texty
    global coords
    cy += speed * -1

    canvas.move(coords, 0, speed - 200)
    canvas.delete(coords)
    coords = canvas.create_text(textx, texty, text = f"X: {cx} | Y: {cy}", font = "Arial 50", fill = "white")

    
    canvas.move(pencil, 0, speed)
    canvas.move("all", 0, speedall)







def mv(event):
    canvas.move("all", 50, 0)
def mv2(event):
    canvas.move("all", -50, 0)

win.bind("a", move_r)
win.bind("d", move_l)
win.bind("s", move_u)
win.bind("w", move_d)

win.bind("A", move_r)
win.bind("D", move_l)
win.bind("S", move_u)
win.bind("W", move_d)

win.bind("l", mv)
win.bind("k", mv2)
def spawn(event):

    xx ,yy , xx2, yy2 = canvas.coords(pencil)
    g = -1

    clr = ""
    if xx2 < 185:
        clr = "red"
    elif xx2 < 370:
        clr = "orange"
    elif xx2 < 370:
        clr = "orange"
    elif xx2 < 550:
        clr = "yellow"
    elif xx2 < 730:
        clr = "lime"
    elif xx2 < 910:
        clr = "cyan"
    elif xx2 < 1070:
        clr = "blue"
    else:
        clr = "magenta"

    canvas.create_oval(xx-g, yy-g, xx2+g, yy2+g,  fill = drawcolor, outline= "black")


def spawn_rec(event):

    xx ,yy , xx2, yy2 = canvas.coords(pencil)
    g = -1

    clr = ""
    if xx2 < 185:
        clr = "red"
    elif xx2 < 370:
        clr = "orange"
    elif xx2 < 370:
        clr = "orange"
    elif xx2 < 550:
        clr = "yellow"
    elif xx2 < 730:
        clr = "lime"
    elif xx2 < 910:
        clr = "cyan"
    elif xx2 < 1070:
        clr = "blue"
    else:
        clr = "magenta"

    canvas.create_rectangle(xx-g, yy-g, xx2+g, yy2+g,  fill = drawcolor, outline= "black")

xx = 640
yy = 360
xxd = 640
yyd = 360
for i in range(1,50):
    canvas.create_text(xx,360, text = "+X", fill = "white", font="Arial 20")
    canvas.create_text(640,yy, text = "+Y", fill = "white", font="Arial 20")
    canvas.create_text(xxd,360, text = "-X", fill = "red", font="Arial 20") 
    canvas.create_text(640,yyd, text = "-Y", fill = "red", font="Arial 20")




    xxd -= 500
    xx += 500
    yy += -500 
    yyd +=  500
canvas.create_line(640,360,500000,360, fill = "white")
canvas.create_line(640,360,640,-500000, fill = "white")
canvas.create_line(640,360,640,500000, fill = "red")
canvas.create_line(640,360,-500000,360, fill = "red")





win.bind("2", spawn_rec)
win.bind("1", spawn)
win.bind("0", spawn)
win.mainloop()